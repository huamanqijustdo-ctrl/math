# 定义

全概率公式用于计算一个事件的概率，是通过将该事件在完备事件组的每个子事件发生下的条件概率和先验概率进行累加得到。 

其数学表达式为 P(B) = $\sum_{i=1}^{n}$ P(B | $A_{i}$ ) P( $A_{i}$ )，
其中 $A_{1}$ , $A_{2}$ , ... , $A_{n}$ 是一个完备事件组，事件 \(B\) 的概率等于在每个 $A_{i}$ 发生的前提下，事件 B 发生的概率与其自身先验概率 $P(A_{i}$ )的乘积之和。 

# 例子

**计算购买到有缺陷商品的总概率** 

问题描述 一个人从三个渠道购买商品： 

渠道 1 (B1)： 商店，购买概率 P( $B_{1}$ ) = 0.5

渠道 2 (B2)： 网上商店，购买概率 P( $B_{2}$ ) = 0.3

渠道 3 (B3)： 二手交易市场，购买概率 P( $B_{3}$ ) = 0.2 

购买到有缺陷商品（事件 A）的条件概率如下： 

从商店购买，商品有缺陷的概率 P( A | $B_{1}$ ) = 0.02 从网上商店购买，商品有缺陷的概率 P( A | $B_{2}$ ) = 0.05 从二手市场购买，商品有缺陷的概率 P( A | $B_{3}$ ) = 0.1 

**计算过程** 

根据全概率公式，计算购买到有缺陷商品的总概率 (P(A) 

如下：P(A) = P( A | $B_{1}$ )P( $B_{1}$ ) + P( A | $B_{2}$ )P( $B_{2}$ ) + P( A | $B_{3}$ )P( $B_{3}$ ) 

代入已知数值：P(A) = (0.02 $\times$ 0.5) + (0.05 $\times$ 0.3) + (0.1 $\times$ 0.2)\)

 P(A) = 0.01 + 0.015 + 0.02 
 
 P(A)= 0.045

**结果** 

因此，这个人购买到有缺陷商品的概率是 0.045，即 4.5%。
